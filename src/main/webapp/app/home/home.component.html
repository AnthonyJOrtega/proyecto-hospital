<div
  class="container-fluid min-vh-100 d-flex flex-column justify-content-center overflow-hidden"
  [ngStyle]="{
    padding: '0',
    'background-image': isAuthenticated() ? 'url(/content/images/hospital_tr.png)' : 'none',
    'background-size': '53%',
    'background-position': '43% 28%',
    'background-attachment': 'cover',
    'background-color': 'transparent',
    'padding-top': '100px',
    'margin-top': '-100px',
  }"
>
  <div class="mx-auto" style="max-width: 1000px; background-color: transparent">
    <div class="row g-0">
      <!-- IZQUIERDA: Imagen solo si no está autenticado -->
      <div
        class="col-lg-6 d-flex align-items-center justify-content-center p-4"
        *ngIf="!isAuthenticated()"
        style="background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)"
      >
        <div class="text-center text-white p-4">
          <img src="/content/images/logo.jpg" class="img-fluid mb-4" alt="Hospital-Tech Logo" />
          <h2 class="mb-3">Sistema de Gestión Hospitalaria</h2>
          <p class="lead">Tecnología avanzada para la salud</p>
        </div>
      </div>

      <!-- DERECHA -->
      <div class="col-lg-6 d-flex flex-column align-items-center justify-content-center p-5" [class.col-lg-12]="isAuthenticated()">
        <div class="w-100">
          <ng-container *ngIf="account(); else loginBlock">
            <!-- TÍTULO BIENVENIDA -->
            <h1 class="display-5 fw-bold text-primary mb-4"><span jhiTranslate="home.title">¡Bienvenido, Java Hipster!</span> (Tfg 2)</h1>
            <p class="lead text-muted mb-4" jhiTranslate="home.subtitle">Esta es su página de inicio</p>

            <!-- MENSAJE DE USUARIO -->
            <div class="alert alert-success" *ngIf="account() as accountRef">
              <span id="home-logged-message" jhiTranslate="home.logged.message" [translateValues]="{ username: accountRef.login }">
                Está conectado como "{{ accountRef.login }}".
              </span>
            </div>

            <!-- BOTONES DE ACCIÓN -->
            <div class="d-flex flex-column gap-3 mb-4">
              <button
                class="btn btn-primary btn-lg py-3 rounded-pill shadow-sm position-relative w-100"
                routerLink="/cita/new"
                style="padding-left: 3rem; padding-right: 3rem"
              >
                <i class="bi bi-calendar-plus fs-4 position-absolute" style="left: 1.5rem"></i>
                <span>Crear Nueva Cita</span>
                <i class="bi bi-chevron-right position-absolute" style="right: 1.5rem"></i>
              </button>
            </div>

            <!-- ENLACES JHIPSTER -->
            <p jhiTranslate="home.question">Si tiene preguntas sobre JHipster:</p>
            <ul>
              <li>
                <a href="https://www.jhipster.tech/" target="_blank" rel="noopener noreferrer" jhiTranslate="home.link.homepage">
                  Página de inicio de JHipster
                </a>
              </li>
              <li>
                <a
                  href="https://stackoverflow.com/tags/jhipster/info"
                  target="_blank"
                  rel="noopener noreferrer"
                  jhiTranslate="home.link.stackoverflow"
                  >JHipster en Stack Overflow</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/jhipster/generator-jhipster/issues?state=open"
                  target="_blank"
                  rel="noopener noreferrer"
                  jhiTranslate="home.link.bugtracker"
                  >Seguimiento de errores</a
                >
              </li>
              <li>
                <a
                  href="https://gitter.im/jhipster/generator-jhipster"
                  target="_blank"
                  rel="noopener noreferrer"
                  jhiTranslate="home.link.chat"
                  >Sala de chat pública</a
                >
              </li>
              <li>
                <a href="https://twitter.com/jhipster" target="_blank" rel="noopener noreferrer" jhiTranslate="home.link.follow"
                  >&#64;jhipster en Twitter</a
                >
              </li>
            </ul>

            <p>
              <span jhiTranslate="home.like">Si te gusta JHipster, danos una estrella en</span>
              <a href="https://github.com/jhipster/generator-jhipster" target="_blank" rel="noopener noreferrer" jhiTranslate="home.github">
                GitHub
              </a>
              !
            </p>
          </ng-container>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTENIDO SI NO ESTÁ LOGUEADO -->
  <ng-template #loginBlock>
    <div class="container-fluid min-vh-100 d-flex flex-column justify-content-center align-items-center text-center">
      <h1 class="mb-4 text-gradient">Bienvenido a <span class="fw-bold">HOSPITAL-TECH</span></h1>
      <p class="mb-4 text-muted">Accede a tu cuenta para gestionar pacientes, citas y recursos hospitalarios</p>

      <button class="btn btn-primary btn-lg mb-3 w-100 py-3 rounded-pill shadow-sm" (click)="login()">
        <i class="bi bi-box-arrow-in-right me-2"></i> Iniciar sesión
      </button>

      <div class="divider d-flex align-items-center my-4">
        <p class="text-center fw-bold mx-3 mb-0 text-muted">O</p>
      </div>

      <button class="btn btn-outline-primary btn-lg w-100 py-3 rounded-pill" (click)="register()">
        <i class="bi bi-person-plus me-2"></i> Crear nueva cuenta
      </button>

      <!-- Mensaje cuentas de prueba 
      <div class="alert alert-warning mt-4">
        <span jhiTranslate="global.messages.info.authenticated.prefix">Puede iniciar sesión con:</span><br />
        <strong>admin/admin</strong> o <strong>user/user</strong>
      </div>-->
    </div>
  </ng-template>
</div>
